<?php
/**
 * @file database.php
 * @brief Ρυθμίσεις σύνδεσης με τη βάση δεδομένων.
 *
 * Αυτό το αρχείο περιέχει τις παραμέτρους για τη σύνδεση με τη βάση δεδομένων MySQL
 * χρησιμοποιώντας PDO. Είναι κρίσιμο για την ασφάλεια να διατηρούνται αυτά τα διαπιστευτήρια
 * εκτός του web root σε ένα πραγματικό περιβάλλον παραγωγής.
 */

// Ρυθμίσεις βάσης δεδομένων
define('DB_HOST', 'localhost');
define('DB_NAME', 'recipe_social_network'); // Αλλάξτε το όνομα της βάσης δεδομένων σας
define('DB_USER', 'root');                  // Αλλάξτε το όνομα χρήστη της βάσης δεδομένων σας
define('DB_PASS', '');                      // Αλλάξτε τον κωδικό πρόσβασης της βάσης δεδομένων σας

try {
    // Δημιουργία νέας σύνδεσης PDO [7]
    $pdo = new PDO("mysql:host=". DB_HOST. ";dbname=". DB_NAME. ";charset=utf8", DB_USER, DB_PASS);
    // Ορισμός λειτουργίας σφάλματος PDO σε εξαίρεση [7]
    $pdo->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
    // Ορισμός προεπιλεγμένης λειτουργίας ανάκτησης σε συσχετιστικό πίνακα
    $pdo->setAttribute(PDO::ATTR_DEFAULT_FETCH_MODE, PDO::FETCH_ASSOC);
} catch (PDOException $e) {
    // Χειρισμός σφαλμάτων σύνδεσης [8]
    error_log("Σφάλμα σύνδεσης βάσης δεδομένων: ". $e->getMessage()); // Καταγραφή σφάλματος
    die("Σφάλμα σύνδεσης με τη βάση δεδομένων. Παρακαλώ δοκιμάστε αργότερα."); // Φιλικό μήνυμα για τον χρήστη
}